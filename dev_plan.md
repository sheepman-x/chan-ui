# 整体目标
基于 chan.py 实现一个缠论可视化界面。支持不同股票市场、时间级别、时间范围；支持缠论参数的调整；缠论图表可视化。

## 第一阶段
基于 streamlit 跑通一个最小的app

## 第二阶段
调用 chan.py 中提供的方法，传入股票、时间参数，设置缠论参数，将缠论指标转换为图表所需的数据。

## 第三阶段
- Web界面优化
    1. 默认的时间级别改成日线。当时间级别小于等于60分钟，应该限定时间范围的区间小于1个月。防止拉取太多数据造成页面卡顿
    2. 股票代码改成：选择市场（美股、港股、A股） + 输入股票代码，股票代码的格式由后端根据市场来调整对应的格式，再传给 chan.py； 目前只支持A股
    3. 将使用说明，挪到上方。去掉数据信息。去掉多余的文字。
- 数据
  - ✅ 完全复现 chan.py 中结果的k线和缠论指标

## 第四阶段 - 图表优化与买卖点完善
- 图表显示优化
  - ✅ 去掉不必要的图表控制项（高度滑块、成交量显示、自动范围选项、缩放控件）
  - ✅ 优化图例显示，每种指标类型只显示一个图例项
  - ✅ 修复缠论指标位置偏移问题，使用正确的索引映射
  - ✅ 修复笔连接点问题，采用官方chan.py Plot方法确保笔与笔之间完美连接
- 买卖点显示修复
  - ❌ **123买卖点未正确显示** - 需要排查买卖点数据提取和渲染逻辑
    - 检查chan.py的买卖点数据结构和提取方法
    - 修复买卖点在图表上的位置和样式显示
    - 确保买卖点类型（1类、2类、3a类、3b类）正确标识